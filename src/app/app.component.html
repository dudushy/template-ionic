<ion-app>
  <ion-split-pane contentId="main-content">
    <ion-menu side="start" menuId="mainMenu" contentId="main-content">
      <ion-toolbar translucent color="template-{{theme}}">
        <ion-title (click)="redirectAndCloseMenu('dev-menu')">template-ionic</ion-title>
      </ion-toolbar>

      <ion-content [attr.theme]="theme">
        <ion-button color="danger" expand="block" (click)="logout()" *ngIf="username != 'Guest'">
          log out
        </ion-button>

        <ion-list>
          <ion-item>
            <ion-grid id="user-grid">
              <ion-row>
                <ion-col>
                  <ion-icon id="user-icon" name="person-circle"></ion-icon>
                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col>
                  <ion-label id="user-name">{{username}}</ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>

          <hr>

          <ion-item>
            <ion-grid>
              <ion-row *ngFor="let page of allPages | keyvalue : defaultOrder">
                <ion-col>
                  <ion-label class="pageButton" (click)="redirectAndCloseMenu(page.value.toString())" [attr.isOn]="currentPage == page.value.toString()">
                    {{page.value}}
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-list>
      </ion-content>
    </ion-menu>

    <ion-router-outlet id="main-content"></ion-router-outlet>
  </ion-split-pane>
</ion-app>
